#!/bin/bash

# Prompt para solicitar el nombre de usuario
username=$(whiptail --inputbox "Ingrese el nombre de usuario para colocar la carpeta Pentesting en su escritorio:" 8 78 --title "Nombre de Usuario" 3>&1 1>&2 2>&3)

# Verifica si se ingresó el nombre de usuario
if [ -z "$username" ]; then
  whiptail --msgbox "No se ingresó ningún nombre de usuario. Saliendo..." 8 78 --title "Error"
  exit 1
fi

desktop_dir="/home/$username/Desktop"
pentesting_dir="$desktop_dir/Pentesting"

# Función para instalar herramientas
install_tools() {
  tools=("$@")
  for tool in "${tools[@]}"; do
    apt-get install -y "$tool"
  done
}

# Crear directorios
create_shortcuts() {
  mkdir -p "$pentesting_dir"
  mkdir -p "$pentesting_dir/Reconnaissance"
  mkdir -p "$pentesting_dir/Password_Attacks"
  mkdir -p "$pentesting_dir/Web_Application"
  mkdir -p "$pentesting_dir/Networking"
  mkdir -p "$pentesting_dir/Wireless"
  mkdir -p "$pentesting_dir/Exploitation"
  mkdir -p "$pentesting_dir/Forensics"
  mkdir -p "$pentesting_dir/Bluetooth"
  mkdir -p "$pentesting_dir/DDoS"
  mkdir -p "$pentesting_dir/More_Recon"

  ln -s /usr/bin/nmap "$pentesting_dir/Reconnaissance/Nmap"
  ln -s /usr/bin/nikto "$pentesting_dir/Reconnaissance/Nikto"
  ln -s /usr/bin/enum4linux "$pentesting_dir/Reconnaissance/Enum4linux"
  ln -s /usr/bin/seclists "$pentesting_dir/Reconnaissance/Seclists"
  ln -s /usr/bin/gobuster "$pentesting_dir/Reconnaissance/Gobuster"
  ln -s /usr/bin/amass "$pentesting_dir/Reconnaissance/Amass"
  ln -s /usr/bin/wfuzz "$pentesting_dir/Reconnaissance/Wfuzz"
  ln -s /usr/bin/crackmapexec "$pentesting_dir/Password_Attacks/Crackmapexec"
  ln -s /usr/bin/smbclient "$pentesting_dir/Networking/Smbclient"
  ln -s /usr/bin/smbmap "$pentesting_dir/Networking/Smbmap"
  ln -s /usr/bin/sparta "$pentesting_dir/Reconnaissance/Sparta"
  ln -s /usr/bin/macchanger "$pentesting_dir/Wireless/Macchanger"
  ln -s /usr/bin/kismet "$pentesting_dir/Wireless/Kismet"
  ln -s /usr/bin/bettercap "$pentesting_dir/Wireless/Bettercap"
  ln -s /usr/bin/exploitdb "$pentesting_dir/Reconnaissance/ExploitDB"
  ln -s /usr/bin/searchsploit "$pentesting_dir/Reconnaissance/Searchsploit"
  ln -s /usr/bin/evil-winrm "$pentesting_dir/Exploitation/Evil-WinRM"
  ln -s /usr/bin/snmpcheck "$pentesting_dir/Networking/Snmpcheck"
  ln -s /usr/bin/sslyze "$pentesting_dir/Networking/Sslyze"
  ln -s /usr/bin/sslscan "$pentesting_dir/Networking/Sslscan"
  ln -s /usr/bin/dsniff "$pentesting_dir/Networking/Dsniff"
  ln -s /usr/bin/arping "$pentesting_dir/Networking/Arping"
  ln -s /usr/bin/proxychains4 "$pentesting_dir/Networking/Proxychains4"
  ln -s /usr/bin/exiftool "$pentesting_dir/Forensics/Exiftool"
  ln -s /usr/bin/cadaver "$pentesting_dir/Networking/Cadaver"
  ln -s /usr/bin/cewl "$pentesting_dir/Reconnaissance/Cewl"
  ln -s /usr/bin/joomscan "$pentesting_dir/Web_Application/Joomscan"
  ln -s /usr/bin/dirbuster "$pentesting_dir/Web_Application/Dirbuster"
  ln -s /usr/bin/medusa "$pentesting_dir/Password_Attacks/Medusa"
  ln -s /usr/bin/patator "$pentesting_dir/Password_Attacks/Patator"
  ln -s /usr/bin/ncrack "$pentesting_dir/Password_Attacks/Ncrack"
  ln -s /usr/bin/dnsrecon "$pentesting_dir/Reconnaissance/Dnsrecon"
  ln -s /usr/bin/sublist3r "$pentesting_dir/Reconnaissance/Sublist3r"
  ln -s /usr/bin/masscan "$pentesting_dir/Reconnaissance/Masscan"
  ln -s /usr/bin/crunch "$pentesting_dir/Password_Attacks/Crunch"
  ln -s /usr/bin/volatility "$pentesting_dir/Forensics/Volatility"
  ln -s /usr/bin/sleuthkit "$pentesting_dir/Forensics/Sleuthkit"
  ln -s /usr/bin/autopsy "$pentesting_dir/Forensics/Autopsy"
  ln -s /usr/bin/foremost "$pentesting_dir/Forensics/Foremost"
  ln -s /usr/bin/bulk_extractor "$pentesting_dir/Forensics/Bulk_Extractor"
  ln -s /usr/bin/binwalk "$pentesting_dir/Forensics/Binwalk"
  ln -s /usr/bin/dc3dd "$pentesting_dir/Forensics/DC3DD"
  ln -s /usr/bin/scalpel "$pentesting_dir/Forensics/Scalpel"
  ln -s /usr/bin/btscanner "$pentesting_dir/Bluetooth/BTScanner"
  ln -s /usr/bin/bluelog "$pentesting_dir/Bluetooth/Bluelog"
  ln -s /usr/bin/bluez "$pentesting_dir/Bluetooth/BlueZ"
  ln -s /usr/bin/l2ping "$pentesting_dir/Bluetooth/L2Ping"
  ln -s /usr/bin/hcxdumptool "$pentesting_dir/Bluetooth/HCXDumpTool"
  ln -s /usr/bin/hcxtools "$pentesting_dir/Bluetooth/HCXTools"
  ln -s /usr/bin/mausezahn "$pentesting_dir/DDoS/Mausezahn"
  ln -s /usr/bin/owasp-crs "$pentesting_dir/DDoS/OWASP_CRS"
  ln -s /usr/bin/slowloris "$pentesting_dir/DDoS/Slowloris"
  ln -s /usr/bin/hulk "$pentesting_dir/DDoS/HULK"
  ln -s /usr/bin/goldeneye "$pentesting_dir/DDoS/GoldenEye"
  ln -s /usr/bin/hoic "$pentesting_dir/DDoS/HOIC"
  ln -s /usr/bin/ddosim "$pentesting_dir/DDoS/DDoSim"
  ln -s /usr/bin/xplico "$pentesting_dir/Forensics/Xplico"
  ln -s /usr/bin/networkminer "$pentesting_dir/Forensics/Network_Miner"
  ln -s /usr/bin/radare2 "$pentesting_dir/Forensics/Radare2"
  ln -s /usr/bin/binwalk "$pentesting_dir/Forensics/Binwalk"
  ln -s /usr/bin/peepdf "$pentesting_dir/Forensics/Peepdf"
  ln -s /usr/bin/pdf-parser "$pentesting_dir/Forensics/PDF_Parser"
  ln -s /usr/bin/oletools "$pentesting_dir/Forensics/Oletools"
  ln -s /usr/bin/p0f "$pentesting_dir/More_Recon/P0f"
  ln -s /usr/bin/netdiscover "$pentesting_dir/More_Recon/Netdiscover"
  ln -s /usr/bin/zenmap "$pentesting_dir/More_Recon/Zenmap"
  ln -s /usr/bin/ike-scan "$pentesting_dir/More_Recon/IKEScan"
  ln -s /usr/bin/cdpsnarf "$pentesting_dir/More_Recon/CDPSnarf"
  ln -s /usr/bin/scapy "$pentesting_dir/More_Recon/Scapy"
  ln -s /usr/bin/sipp "$pentesting_dir/DDoS/SIPp"
  ln -s /usr/bin/rtpflood "$pentesting_dir/DDoS/RTPFlood"
  ln -s /usr/bin/udp-flood "$pentesting_dir/DDoS/UDP_Flood"
  ln -s /usr/bin/syn-flood "$pentesting_dir/DDoS/SYN_Flood"
  ln -s /usr/bin/sockstress "$pentesting_dir/DDoS/Sockstress"
  ln -s /usr/bin/fping "$pentesting_dir/Networking/FPing"
  ln -s /usr/bin/webscarab "$pentesting_dir/Web_Application/WebScarab"
  ln -s /usr/bin/skipfish "$pentesting_dir/Web_Application/Skipfish"
  ln -s /usr/bin/wapiti "$pentesting_dir/Web_Application/Wapiti"
  ln -s /usr/bin/nikto "$pentesting_dir/Web_Application/Nikto"
  ln -s /usr/bin/zap "$pentesting_dir/Web_Application/OWASP_ZAP"
  ln -s /usr/bin/w3af "$pentesting_dir/Web_Application/W3AF"
  ln -s /usr/bin/burpsuite "$pentesting_dir/Web_Application/BurpSuite"
  ln -s /usr/bin/acunetix "$pentesting_dir/Web_Application/Acunetix"
  ln -s /usr/bin/netsparker "$pentesting_dir/Web_Application/NetSparker"
  ln -s /usr/bin/arachni "$pentesting_dir/Web_Application/Arachni"
  ln -s /usr/bin/nikto "$pentesting_dir/Web_Application/Nikto"
  ln -s /usr/bin/sqlmap "$pentesting_dir/Web_Application/SQLMap"
  ln -s /usr/bin/sqlninja "$pentesting_dir/Web_Application/SQLNinja"
  ln -s /usr/bin/hexorbase "$pentesting_dir/Web_Application/HexorBase"
  ln -s /usr/bin/sqlsus "$pentesting_dir/Web_Application/SQLSus"
  ln -s /usr/bin/sqliv "$pentesting_dir/Web_Application/SQLiv"
  ln -s /usr/bin/oscanner "$pentesting_dir/Web_Application/OScanner"
  ln -s /usr/bin/blindelephant "$pentesting_dir/Web_Application/BlindElephant"
  ln -s /usr/bin/commix "$pentesting_dir/Web_Application/Commix"
  ln -s /usr/bin/brutespray "$pentesting_dir/Password_Attacks/BruteSpray"
  ln -s /usr/bin/hydra "$pentesting_dir/Password_Attacks/Hydra"
  ln -s /usr/bin/tsunami "$pentesting_dir/DDoS/Tsunami"
  ln -s /usr/bin/mfoc "$pentesting_dir/Wireless/MFOC"
  ln -s /usr/bin/rfcat "$pentesting_dir/Wireless/RFcat"
  ln -s /usr/bin/aircrack-ng "$pentesting_dir/Wireless/Aircrack-NG"
  ln -s /usr/bin/reaver "$pentesting_dir/Wireless/Reaver"
  ln -s /usr/bin/wifite "$pentesting_dir/Wireless/WiFite"
  ln -s /usr/bin/fern-wifi-cracker "$pentesting_dir/Wireless/Fern-WiFi-Cracker"
  ln -s /usr/bin/fluxion "$pentesting_dir/Wireless/Fluxion"
  ln -s /usr/bin/airgeddon "$pentesting_dir/Wireless/Airgeddon"
  ln -s /usr/bin/mdk3 "$pentesting_dir/Wireless/MDK3"
  ln -s /usr/bin/mdk4 "$pentesting_dir/Wireless/MDK4"
  ln -s /usr/bin/killerbee "$pentesting_dir/Wireless/KillerBee"
  ln -s /usr/bin/pcapfix "$pentesting_dir/Forensics/Pcapfix"
  ln -s /usr/bin/foremost "$pentesting_dir/Forensics/Foremost"
  ln -s /usr/bin/aeskeyfind "$pentesting_dir/Forensics/AesKeyFind"
  ln -s /usr/bin/bkhive "$pentesting_dir/Forensics/BkHive"
  ln -s /usr/bin/chntpw "$pentesting_dir/Forensics/Chntpw"
  ln -s /usr/bin/cowpatty "$pentesting_dir/Wireless/Cowpatty"
  ln -s /usr/bin/dc3dd "$pentesting_dir/Forensics/DC3DD"
  ln -s /usr/bin/lsac "$pentesting_dir/Forensics/LSASecrets"
  ln -s /usr/bin/ssdeep "$pentesting_dir/Forensics/Ssdeep"
  ln -s /usr/bin/testdisk "$pentesting_dir/Forensics/TestDisk"
  ln -s /usr/bin/velociraptor "$pentesting_dir/Forensics/Velociraptor"
}

tools=(
  nmap nikto enum4linux seclists gobuster amass wfuzz crackmapexec smbclient smbmap
  sparta macchanger kismet bettercap exploitdb searchsploit evil-winrm snmpcheck
  sslyze sslscan dsniff arping proxychains4 exiftool cadaver cewl joomscan dirbuster
  medusa patator ncrack dnsrecon sublist3r masscan crunch volatility sleuthkit autopsy
  foremost bulk_extractor binwalk dc3dd scalpel btscanner bluelog bluez l2ping hcxdumptool
  hcxtools mausezahn owasp-crs slowloris hulk goldeneye hoic ddosim xplico networkminer
  radare2 binwalk peepdf pdf-parser oletools p0f netdiscover zenmap ike-scan cdpsnarf scapy
  sipp rtpflood udp-flood syn-flood sockstress fping webscarab skipfish wapiti nikto zap w3af
  burpsuite acunetix netsparker arachni nikto sqlmap sqlninja hexorbase sqlsus sqliv oscanner
  blindelephant commix brutespray hydra tsunami mfoc rfcat aircrack-ng reaver wifite fern-wifi-cracker
  fluxion airgeddon mdk3 mdk4 killerbee pcapfix foremost aeskeyfind bkhive chntpw cowpatty
  dc3dd lsac ssdeep testdisk velociraptor
)

install_tools "${tools[@]}"
create_shortcuts
